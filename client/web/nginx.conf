server {
     listen 80;
     server_name truthai.fun www.truthai.fun;

     # Redirect HTTP to HTTPS
     return 301 https://$host$request_uri;
}

server {
     listen 443 ssl;
     server_name truthai.fun www.truthai.fun;

     # SSL certificate configuration
     ssl_certificate /etc/letsencrypt/live/truthai.fun/fullchain.pem;
     ssl_certificate_key /etc/letsencrypt/live/truthai.fun/privkey.pem;

     # Add SSL configuration (you can adjust it as needed)
     ssl_protocols TLSv1.2 TLSv1.3;
     ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';
     ssl_prefer_server_ciphers off;

     location / {
         root /usr/share/nginx/html;
         index index.html index.htm;
         try_files $uri $uri/ /index.html =404;
     }
}

server {
     listen 80;
     server_name api.truthai.fun;

     # Redirect HTTP to HTTPS
     return 301 https://$host$request_uri;
}

server {
     listen 443 ssl;
     server_name api.truthai.fun;

     # SSL certificate configuration
     ssl_certificate /etc/letsencrypt/live/truthai.fun/fullchain.pem;
     ssl_certificate_key /etc/letsencrypt/live/truthai.fun/privkey.pem;

     # Add SSL configuration (you can adjust it as needed)
     ssl_protocols TLSv1.2 TLSv1.3;
     ssl_ciphers 'TLS_AES_128_GCM_SHA256:TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-RSA-AES256-GCM-SHA384';
     ssl_prefer_server_ciphers off;

     location / {
        # Change to the IP and port of the API service (Note: nginx is in Docker, the IP needs to be the host, not localhost)
        proxy_pass http://182.160.6.95:8000;
     }
}